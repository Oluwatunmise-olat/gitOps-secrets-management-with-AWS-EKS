# https://dev.to/thenjdevopsguy/getting-started-with-kustomize-for-kubernetes-32nh
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - deployment.yaml
  - service.yaml
  - ingress.yaml
  - hpa.yaml
  - secret-provider-class.yaml
  - service-account.yaml

commonLabels:
  app: gitops-app
  environment: production

images:
  - name: "oluwatunmiseolat/gitops-eks"
    newTag: latest

# Added this to force deployment retrigger ðŸ™‚
# patches:
#   - target:
#       kind: Deployment
#       name: "gitOps-app-deployment" 
#     patch: |-
#       - op: add
#         path: /spec/template/metadata/annotations/checksum
#         value: ""